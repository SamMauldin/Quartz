-- Logging framework

--[[
Logging levels (future use)

1-Everything
2-Debugging
3-Info
4-Warning
5-Crash
6-Complete failure

]]--

local maxlen = 5000

fs.makeDir("/Library/logs")

local logger = A.LCS.class({name = "logger"})

function logger:init(location)
	self.loc = location or "/Library/logs/main"
end

function logger:log(txt)
	local content = A.file.read(self.loc, "") .. "\n" .. txt
	if string.len(content) > maxlen then
		content = txt .. "\n"
	end
	A.file.write(self.loc, content)
end

A.scratch = logger()

A.scratch.logger = logger